[gd_scene load_steps=8 format=4 uid="uid://bf6l6gw486uwb"]

[ext_resource type="TileSet" uid="uid://cv5hbh50gwf0m" path="res://assets/LevelTiles.tres" id="1_m33p3"]
[ext_resource type="PackedScene" uid="uid://clcphumb7x1fi" path="res://actors/monster_container.tscn" id="3_k0juu"]
[ext_resource type="PackedScene" uid="uid://jrijq5330mc3" path="res://actors/monster.tscn" id="4_71j4m"]
[ext_resource type="PackedScene" uid="uid://b7ffejioelqqr" path="res://actors/player.tscn" id="5_71j4m"]
[ext_resource type="PackedScene" uid="uid://fty5ct3prfsh" path="res://cards/card_gui.tscn" id="5_qfnet"]
[ext_resource type="PackedScene" uid="uid://cgq2d5kp0ve06" path="res://scenes/interactables/treasure_chest.tscn" id="6_qfnet"]
[ext_resource type="PackedScene" uid="uid://ywbw87kroxri" path="res://scenes/interactables/door.tscn" id="7_i7141"]

[node name="World" type="Node2D"]

[node name="Level" type="Node2D" parent="."]
position = Vector2(0, -1)
scale = Vector2(0.5, 0.5)

[node name="SpawnPoint" type="Marker2D" parent="Level"]
position = Vector2(-240, -78)

[node name="Ground" type="TileMapLayer" parent="Level"]
position = Vector2(0, 2)
tile_map_data = PackedByteArray("AAD7/wIAAwAAAAYAAAD8/wIAAwACAAYAAAD9/wIAAwAAAAYAAAD+/wIAAwAAAAYAAAD//wIAAwAAAAYAAAD+/wQAAwAAAAYAAAD9/wQAAwAAAAYAAAD8/wQAAwAAAAYAAAD3//3/AwAAAAYAAAD3//7/AwABAAYAAAD3////AwAAAAYAAAD3/wAAAwABAAgAAAD4////AwAAAAYAAAD4/wAAAwAAAAYAAAD5////AwAAAAYAAAD5/wAAAwAAAAYAAAD6//7/AwACAAcAAAD6////AwAAAAYAAAD6/wAAAwAAAAYAAAD7////AwAAAAYAAAD7/wAAAwABAAYAAAD6/wEAAwACAAcAAAD6/wIAAwAAAAYAAAD6/wMAAwAAAAYAAAD6/wQAAwAAAAYAAADz/wIAAwAAAA0AAADz/wMAAwAAAA0AAADz/wQAAwAAAA0AAAD0/wIAAwAAAA0AAAD0/wMAAwAAAA0AAAD0/wQAAwAAAA0AAAD1/wIAAwAAAA0AAAD1/wMAAwAAAA0AAAD1/wQAAwAAAA0AAAD2/wIAAwAAAA0AAAD2/wMAAwAAAA0AAAD2/wQAAwAAAA0AAAD3/wIAAwAAAA0AAAD3/wMAAwAAAA0AAAD3/wQAAwAAAA0AAAD4/wIAAwAAAA0AAAD4/wMAAwAAAA0AAAD4/wQAAwAAAA0AAAD4//r/AwACAAYAAAD4//v/AwAAAAYAAAD5//r/AwAAAAYAAAD5//v/AwADAAYAAAD6//r/AwAAAAYAAAD6//v/AwAAAAYAAAD7//r/AwAAAAYAAAD7//v/AwAAAAYAAAD8//r/AwAAAAYAAAD8//v/AwADAAYAAAD9//r/AwAAAAYAAAD+//r/AwAAAA0AAAD+//v/AwAAAAYAAAD///r/AwAAAA0AAAD///v/AwAAAAYAAAD1//r/AwAAAAYAAAD1//v/AwADAAcAAAD2//r/AwAAAAYAAAD2//v/AwAAAAYAAAD3//r/AwAAAAYAAAD3//v/AwAAAAYAAADz//r/AwAAAA0AAADz//v/AwAAAA0AAADz//z/AwAAAA0AAADz//3/AwAAAA0AAADz//7/AwAAAA0AAADz////AwAAAA0AAADz/wAAAwAAAA0AAADz/wEAAwAAAA0AAAD0//r/AwAAAA0AAAD0//v/AwAAAAYAAAD0//z/AwAAAAYAAAD0//3/AwACAAYAAAD0//7/AwAAAAYAAAD0////AwAAAAYAAAD0/wAAAwAAAA0AAAD0/wEAAwAAAA0AAAD1//z/AwAAAAYAAAD1//3/AwAAAAYAAAD1//7/AwACAAcAAAD1////AwAAAAYAAAD1/wAAAwAAAAYAAAD1/wEAAwAAAAYAAAD2//z/AwAAAAYAAAD3//z/AwAAAAYAAAD8//z/AwACAAcAAAD9//z/AwAAAAYAAAD+//z/AwAAAAYAAAD+//3/AwAAAAYAAAD9//3/AwAAAAYAAAD8//3/AwAAAAYAAAD8//7/AwAAAAYAAAD8////AwAAAAYAAAD8/wAAAwAAAAYAAAD9/wAAAwAAAAYAAAD9////AwAAAAYAAAD9//7/AwAAAAYAAAD2/wAAAwAAAAYAAAD2////AwACAAgAAAD2//7/AwAAAAYAAAD2//3/AwAAAAYAAAD7//z/AwAAAAYAAAD7//3/AwAAAAYAAAD7//7/AwABAAgAAAD2/wEAAwAAAAYAAAD3/wEAAwABAAYAAAD4/wEAAwAAAAYAAAD5/wEAAwAAAAYAAAD7/wEAAwAAAAYAAAD8/wEAAwAAAAYAAAD9/wEAAwAAAAYAAAD9//v/AwAAAAYAAAD5//3/AwAAAAYAAAD4//3/AwAAAAYAAAD6//3/AwAAAAYAAAD4//z/AwAAAAYAAAD5//z/AwAAAAYAAAD6//z/AwAAAAYAAAD4//7/AwAAAAYAAAD5//7/AwAAAAYAAAD///3/AwAAAAYAAAAAAP3/AwAAAAYAAAABAP3/AwAAAAYAAAACAP3/AwAAAAYAAAADAP3/AwAAAAYAAAAEAP3/AwAAAAYAAAAFAP3/AwAAAAYAAAAGAP3/AwAAAAYAAAAEAPv/AwAAAAYAAAAEAPz/AwAAAAYAAAAEAP7/AwAAAAYAAAAEAP//AwAAAAYAAAAEAAAAAwAAAAYAAAAFAPv/AwAAAAYAAAAFAPz/AwAAAAYAAAAFAP7/AwAAAAYAAAAFAP//AwAAAAYAAAAFAAAAAwAAAAYAAAAGAPv/AwAAAAYAAAAGAPz/AwAAAAYAAAAGAP7/AwAAAAYAAAAGAP//AwAAAAYAAAAGAAAAAwAAAAYAAAAHAPv/AwAAAAYAAAAHAPz/AwAAAAYAAAAHAP3/AwAAAAYAAAAHAP7/AwAAAAYAAAAHAP//AwAAAAYAAAAHAAAAAwAAAAYAAAA=")
tile_set = ExtResource("1_m33p3")

[node name="Colliders" type="TileMapLayer" parent="Level"]
position = Vector2(0, 2)
tile_map_data = PackedByteArray("AAACAAEAAwAAAAAAAAACAAMAAwAAAAAAAAD//wMAAwAAAAAAAAD//wQAAwAAAAAAAAD//wUAAwAAAAAAAAAAAAEAAwAAAAAAAAAAAPz/AwABAAAAAAABAPz/AwABAAAAAAACAPz/AwABAAAAAAD///z/AwABAAAAAAD///7/AwAAAAAAAAD/////AwAAAAAAAAD//wAAAwAAAAAAAAD//wEAAwAAAAAAAAD+/wEAAwAAAAAAAAD+/wMAAwAAAAAAAAD9/wMAAwAAAAAAAAD8/wMAAwAAAAAAAAD7/wMAAwAAAAAAAAD7/wQAAwAAAAAAAAD7/wUAAwAAAAAAAAD9/wUAAwAAAAAAAAD+/wQAAwAAAAAAAAD9/wQAAwAAAAAAAAD8/wQAAwAAAAAAAAD5/wIAAwAAAAAAAAD5/wMAAwAAAAAAAAD5/wQAAwAAAAAAAAD5/wUAAwAAAAAAAAD+/wUAAwAAAAAAAAACAP7/AwAAAAAAAAACAPr/AwAAAAAAAAD3/wIAAwAAAAAAAAD0/wIAAwAAAAAAAAD4/wIAAwAAAAAAAAD4/wMAAwAAAAAAAAAAAAMAAwAAAAAAAAABAAEAAwAAAAAAAADy//r/AwAAAAAAAADy//v/AwAAAAAAAADz//r/AwAAAAAAAAD0//r/AwAAAAAAAAAAAPr/AwAAAAAAAAAAAPv/AwAAAAAAAAABAPr/AwAAAAAAAAABAPv/AwAAAAAAAAACAPv/AwAAAAAAAADw//r/AwAAAAAAAADw//v/AwAAAAAAAADx//r/AwAAAAAAAADx//v/AwAAAAAAAADw//z/AwAAAAAAAADw//3/AwAAAAAAAADw//7/AwAAAAAAAADw////AwAAAAAAAADw/wAAAwAAAAAAAADw/wEAAwAAAAAAAADw/wIAAwAAAAAAAADx//z/AwAAAAAAAADx//3/AwAAAAAAAADx//7/AwAAAAAAAADx////AwAAAAAAAADx/wAAAwAAAAAAAADx/wEAAwAAAAAAAADx/wIAAwAAAAAAAADy//z/AwAAAAAAAADy//3/AwAAAAAAAADy//7/AwAAAAAAAADy////AwAAAAAAAADy/wAAAwAAAAAAAADy/wEAAwAAAAAAAADy/wIAAwAAAAAAAADz/wAAAwAAAAAAAADz/wEAAwAAAAAAAADz/wIAAwAAAAAAAAD0/wEAAwAAAAAAAAD1/wIAAwAAAAAAAADw/wMAAwAAAAAAAADw/wQAAwAAAAAAAADw/wUAAwAAAAAAAADx/wMAAwAAAAAAAADx/wQAAwAAAAAAAADx/wUAAwAAAAAAAADy/wMAAwAAAAAAAADy/wQAAwAAAAAAAADy/wUAAwAAAAAAAADz/wMAAwAAAAAAAADz/wQAAwAAAAAAAADz/wUAAwAAAAAAAAD0/wMAAwAAAAAAAAD0/wQAAwAAAAAAAAD0/wUAAwAAAAAAAAD1/wMAAwAAAAAAAAD1/wQAAwAAAAAAAAD1/wUAAwAAAAAAAAD2/wMAAwAAAAAAAAD2/wQAAwAAAAAAAAD2/wUAAwAAAAAAAAD3/wMAAwAAAAAAAAD3/wQAAwAAAAAAAAD3/wUAAwAAAAAAAAD4/wQAAwAAAAAAAAD4/wUAAwAAAAAAAAD2/wIAAwAAAAAAAAD+//7/AwAAAAAAAAD+////AwAAAAAAAAD+/wAAAwAAAAAAAAD+//r/AwAAAAAAAAD///r/AwAAAAAAAAD+//z/AwABAAAAAAD+//v/AwAAAAAAAAD///v/AwAAAAAAAAD6/wIAAwAAAAAAAAD7/wIAAwAAAAAAAAD8/wIAAwAAAAAAAAD9/wIAAwAAAAAAAAD0/wAAAwAAAAAAAADz////AwAAAAAAAADz//7/AwAAAAAAAADz//3/AwAAAAAAAADz//z/AwAAAAAAAADz//v/AwAAAAAAAAD+/wIAAwAAAAAAAAD0//v/AwAAAAAAAAD0//z/AwAAAAAAAAD0//3/AwAAAAAAAAD0//7/AwAAAAAAAAD0////AwAAAAAAAAD1/wEAAwAAAAAAAAD2/wEAAwAAAAAAAAD3/wEAAwAAAAAAAAD4/wEAAwAAAAAAAAD5/wEAAwAAAAAAAAD6/wEAAwAAAAAAAAD7/wEAAwAAAAAAAAD8/wEAAwAAAAAAAAD9/wEAAwAAAAAAAAD1//7/AwABAAAAAAD3//7/AwABAAAAAAD7//7/AwABAAAAAAD8//7/AwABAAAAAAD9//7/AwABAAAAAAD6/wMAAwAAAAAAAAD6/wQAAwAAAAAAAAD6/wUAAwAAAAAAAAD8/wUAAwAAAAAAAAAAAAQAAwAAAAAAAAAAAAUAAwAAAAAAAAABAAMAAwAAAAAAAAABAAQAAwAAAAAAAAABAAUAAwAAAAAAAAACAAQAAwAAAAAAAAACAAUAAwAAAAAAAAADAAMAAwAAAAAAAAADAAQAAwAAAAAAAAADAAUAAwAAAAAAAAD//wIAAwAAAAAAAAAAAP7/AwAAAAAAAAAAAP//AwAAAAAAAAAAAAAAAwAAAAAAAAAAAAIAAwAAAAAAAAABAP7/AwAAAAAAAAABAP//AwAAAAAAAAABAAAAAwAAAAAAAAABAAIAAwAAAAAAAAACAP//AwAAAAAAAAACAAAAAwAAAAAAAAACAAIAAwAAAAAAAAADAPr/AwAAAAAAAAADAPv/AwAAAAAAAAADAPz/AwABAAAAAAADAP7/AwAAAAAAAAADAP//AwAAAAAAAAADAAAAAwAAAAAAAAADAAEAAwAAAAAAAAADAAIAAwAAAAAAAAD1//n/AwABAAAAAAD2//n/AwABAAAAAAD3//n/AwABAAAAAAD4//n/AwABAAAAAAD5//n/AwABAAAAAAD6//n/AwABAAAAAAD7//n/AwABAAAAAAD8//n/AwABAAAAAAD9//n/AwABAAAAAADw//n/AwAAAAAAAADx//n/AwAAAAAAAADy//n/AwAAAAAAAADz//n/AwAAAAAAAAD0//n/AwAAAAAAAAD+//n/AwAAAAAAAAD///n/AwAAAAAAAAAAAPn/AwAAAAAAAAABAPn/AwAAAAAAAAACAPn/AwAAAAAAAAADAPn/AwAAAAAAAADw//X/AwAAAAAAAADw//b/AwAAAAAAAADw//f/AwAAAAAAAADw//j/AwAAAAAAAADx//X/AwAAAAAAAADx//b/AwAAAAAAAADx//f/AwAAAAAAAADx//j/AwAAAAAAAADy//X/AwAAAAAAAADy//b/AwAAAAAAAADy//f/AwAAAAAAAADy//j/AwAAAAAAAADz//X/AwAAAAAAAADz//b/AwAAAAAAAADz//f/AwAAAAAAAADz//j/AwAAAAAAAAD0//X/AwAAAAAAAAD0//b/AwAAAAAAAAD0//f/AwAAAAAAAAD0//j/AwAAAAAAAAD1//X/AwAAAAAAAAD1//b/AwAAAAAAAAD1//f/AwAAAAAAAAD1//j/AwAAAAAAAAD2//X/AwAAAAAAAAD2//b/AwAAAAAAAAD2//f/AwAAAAAAAAD2//j/AwAAAAAAAAD3//X/AwAAAAAAAAD3//b/AwAAAAAAAAD3//f/AwAAAAAAAAD3//j/AwAAAAAAAAD4//X/AwAAAAAAAAD4//b/AwAAAAAAAAD4//f/AwAAAAAAAAD4//j/AwAAAAAAAAD5//X/AwAAAAAAAAD5//b/AwAAAAAAAAD5//f/AwAAAAAAAAD5//j/AwAAAAAAAAD6//X/AwAAAAAAAAD6//b/AwAAAAAAAAD6//f/AwAAAAAAAAD6//j/AwAAAAAAAAD7//X/AwAAAAAAAAD7//b/AwAAAAAAAAD7//f/AwAAAAAAAAD7//j/AwAAAAAAAAD8//X/AwAAAAAAAAD8//b/AwAAAAAAAAD8//f/AwAAAAAAAAD8//j/AwAAAAAAAAD9//X/AwAAAAAAAAD9//b/AwAAAAAAAAD9//f/AwAAAAAAAAD9//j/AwAAAAAAAAD+//X/AwAAAAAAAAD+//b/AwAAAAAAAAD+//f/AwAAAAAAAAD+//j/AwAAAAAAAAD///X/AwAAAAAAAAD///b/AwAAAAAAAAD///f/AwAAAAAAAAD///j/AwAAAAAAAAAAAPX/AwAAAAAAAAAAAPb/AwAAAAAAAAAAAPf/AwAAAAAAAAAAAPj/AwAAAAAAAAABAPX/AwAAAAAAAAABAPb/AwAAAAAAAAABAPf/AwAAAAAAAAABAPj/AwAAAAAAAAACAPX/AwAAAAAAAAACAPb/AwAAAAAAAAACAPf/AwAAAAAAAAACAPj/AwAAAAAAAAADAPX/AwAAAAAAAAADAPb/AwAAAAAAAAADAPf/AwAAAAAAAAADAPj/AwAAAAAAAAD5//z/AwABAAAAAAD4//z/AwAAAAAAAAD6//z/AwAAAAAAAAD4//3/AwABAAAAAAD6//3/AwABAAAAAAD3//3/AwAAAAAAAAD7//3/AwAAAAAAAAD9////AwAEABEAAAD8////AwAEABEAAAD9/wAAAwADABEAAAD4//7/AwADABcAAAD3////AwADABcAAAAEAPr/AwABAAAAAAAFAPr/AwABAAAAAAAGAPr/AwABAAAAAAAHAPv/AwABAAAAAAAIAPz/AwAAAAAAAAAIAP3/AwAAAAAAAAAIAP7/AwAAAAAAAAAIAP//AwAAAAAAAAAIAAAAAwAAAAAAAAAHAAEAAwAAAAAAAAAGAAEAAwAAAAAAAAAFAAEAAwAAAAAAAAAEAAEAAwAAAAAAAAAIAAEAAwAAAAAAAAAEAAIAAwAAAAAAAAAEAAMAAwAAAAAAAAAEAAQAAwAAAAAAAAAEAAUAAwAAAAAAAAAFAAUAAwAAAAAAAAAGAAUAAwAAAAAAAAAHAAUAAwAAAAAAAAAIAAUAAwAAAAAAAAAJAAUAAwAAAAAAAAAKAAUAAwAAAAAAAAALAAUAAwAAAAAAAAALAAQAAwAAAAAAAAALAAMAAwAAAAAAAAALAAIAAwAAAAAAAAALAAEAAwAAAAAAAAALAAAAAwAAAAAAAAALAP//AwAAAAAAAAALAP7/AwAAAAAAAAALAP3/AwAAAAAAAAALAPz/AwAAAAAAAAALAPv/AwAAAAAAAAALAPr/AwAAAAAAAAALAPn/AwAAAAAAAAALAPj/AwAAAAAAAAALAPf/AwAAAAAAAAALAPb/AwAAAAAAAAAKAPb/AwAAAAAAAAAJAPb/AwAAAAAAAAAIAPb/AwAAAAAAAAAHAPb/AwAAAAAAAAAGAPb/AwAAAAAAAAAFAPb/AwAAAAAAAAAEAPb/AwAAAAAAAAAKAP7/AwAAAAAAAAAKAP3/AwAAAAAAAAAKAPz/AwAAAAAAAAAKAPv/AwAAAAAAAAAKAPr/AwAAAAAAAAAKAPn/AwAAAAAAAAAKAPj/AwAAAAAAAAAKAPf/AwAAAAAAAAAJAPf/AwAAAAAAAAAIAPf/AwAAAAAAAAAHAPf/AwAAAAAAAAAGAPf/AwAAAAAAAAAFAPf/AwAAAAAAAAAEAPf/AwAAAAAAAAAEAPj/AwAAAAAAAAAEAPn/AwAAAAAAAAAFAPn/AwAAAAAAAAAFAPj/AwAAAAAAAAAGAPj/AwAAAAAAAAAGAPn/AwAAAAAAAAAHAPn/AwAAAAAAAAAHAPj/AwAAAAAAAAAIAPj/AwAAAAAAAAAIAPn/AwAAAAAAAAAIAPr/AwAAAAAAAAAHAPr/AwAAAAAAAAAIAPv/AwAAAAAAAAAJAPv/AwAAAAAAAAAJAPr/AwAAAAAAAAAJAPn/AwAAAAAAAAAJAPj/AwAAAAAAAAAJAPz/AwAAAAAAAAAJAP3/AwAAAAAAAAAJAP7/AwAAAAAAAAAJAP//AwAAAAAAAAAJAAAAAwAAAAAAAAAJAAEAAwAAAAAAAAAJAAIAAwAAAAAAAAAIAAIAAwAAAAAAAAAHAAIAAwAAAAAAAAAGAAIAAwAAAAAAAAAFAAIAAwAAAAAAAAAFAAMAAwAAAAAAAAAFAAQAAwAAAAAAAAAGAAQAAwAAAAAAAAAGAAMAAwAAAAAAAAAHAAMAAwAAAAAAAAAHAAQAAwAAAAAAAAAIAAQAAwAAAAAAAAAIAAMAAwAAAAAAAAAJAAMAAwAAAAAAAAAJAAQAAwAAAAAAAAAKAAQAAwAAAAAAAAAKAAMAAwAAAAAAAAAKAAIAAwAAAAAAAAAKAAEAAwAAAAAAAAAKAAAAAwAAAAAAAAAKAP//AwAAAAAAAAAGAAAAAwAHABAAAAAHAAAAAwACABEAAAAGAP//AwAAABIAAAAEAPv/AwABABIAAAAFAPv/AwAAABQAAAAHAPz/AwABABQAAAAHAP3/AwABABYAAAAGAPv/AwAAABYAAAAGAPz/AwAOABAAAAA=")
tile_set = ExtResource("1_m33p3")

[node name="MonsterContainer" parent="Level" instance=ExtResource("3_k0juu")]
position = Vector2(-48, 32)

[node name="MonsterSprite2" parent="Level/MonsterContainer" instance=ExtResource("4_71j4m")]
position = Vector2(-16, -103)
region_rect = Rect2(0, 160, 32, 32)
max_movement_repeat = 3

[node name="Chest2" parent="." instance=ExtResource("6_qfnet")]
position = Vector2(-72, -8)
interactable_name = 13

[node name="Chest" parent="." instance=ExtResource("6_qfnet")]
position = Vector2(-104, -40)
interactable_name = 4

[node name="Door2" parent="." instance=ExtResource("7_i7141")]
position = Vector2(-8, -40)
interactable_name = 14

[node name="Door" parent="." instance=ExtResource("7_i7141")]
position = Vector2(-152, -24)

[node name="Player" parent="." instance=ExtResource("5_71j4m")]
position = Vector2(-104, -8)

[node name="CardGui" parent="." instance=ExtResource("5_qfnet")]

[node name="BackgroundMusic" type="AudioStreamPlayer2D" parent="."]

[connection signal="monsters_finished_moving" from="Level/MonsterContainer" to="Player" method="unlock_movement"]
[connection signal="player_just_moved" from="Player" to="Level/MonsterContainer" method="handle_monster_movement"]
